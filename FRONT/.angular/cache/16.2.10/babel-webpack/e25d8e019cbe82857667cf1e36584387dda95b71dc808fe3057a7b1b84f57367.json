{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"@angular/forms\";\nexport class AlugarFilmeComponent {\n  constructor(route, client) {\n    this.route = route;\n    this.client = client;\n    this.filmeId = 0;\n    this.cpf = 0;\n    this.filme = null;\n    this.usuario = null;\n  }\n  ngOnInit() {\n    // Recupera o ID do filme da rota\n    this.route.params.subscribe(params => {\n      this.filmeId = params['filmeId'];\n      this.carregarFilme();\n    });\n  }\n  carregarFilme() {\n    // Carrega informações do filme usando o ID\n    this.client.get(`https://localhost:7035/api/filme/${this.filmeId}`).subscribe({\n      next: filme => {\n        this.filme = filme;\n      },\n      error: erro => {\n        console.log(erro);\n      }\n    });\n  }\n  alugar() {\n    // Faz a chamada para o endpoint de aluguel\n    this.client.get(`https://localhost:7035/api/usuario/alugar/${this.filmeId}/${this.cpf}`).subscribe({\n      next: () => {\n        console.log(`Filme ${this.filme?.nome} alugado pelo usuário com CPF ${this.cpf}`);\n        // Redireciona para a página de filmes disponíveis após o aluguel\n        window.location.href = '/pages/filme/disponiveis';\n      },\n      error: erro => {\n        console.log(erro);\n      }\n    });\n  }\n  static #_ = this.ɵfac = function AlugarFilmeComponent_Factory(t) {\n    return new (t || AlugarFilmeComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.HttpClient));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AlugarFilmeComponent,\n    selectors: [[\"app-alugar-filme\"]],\n    decls: 10,\n    vars: 2,\n    consts: [[\"type\", \"number\", 3, \"ngModel\", \"ngModelChange\"], [3, \"click\"]],\n    template: function AlugarFilmeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h1\");\n        i0.ɵɵtext(1, \"Alugar Filme\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"div\")(3, \"p\");\n        i0.ɵɵtext(4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"p\");\n        i0.ɵɵtext(6, \"CPF do Usu\\u00E1rio: \");\n        i0.ɵɵelementStart(7, \"input\", 0);\n        i0.ɵɵlistener(\"ngModelChange\", function AlugarFilmeComponent_Template_input_ngModelChange_7_listener($event) {\n          return ctx.cpf = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(8, \"button\", 1);\n        i0.ɵɵlistener(\"click\", function AlugarFilmeComponent_Template_button_click_8_listener() {\n          return ctx.alugar();\n        });\n        i0.ɵɵtext(9, \"Alugar Filme\");\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\"Filme Selecionado: \", ctx.filme.nome, \"\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.cpf);\n      }\n    },\n    dependencies: [i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.NgControlStatus, i3.NgModel],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["AlugarFilmeComponent","constructor","route","client","filmeId","cpf","filme","usuario","ngOnInit","params","subscribe","carregarFilme","get","next","error","erro","console","log","alugar","nome","window","location","href","_","i0","ɵɵdirectiveInject","i1","ActivatedRoute","i2","HttpClient","_2","selectors","decls","vars","consts","template","AlugarFilmeComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","AlugarFilmeComponent_Template_input_ngModelChange_7_listener","$event","AlugarFilmeComponent_Template_button_click_8_listener","ɵɵadvance","ɵɵtextInterpolate1","ɵɵproperty"],"sources":["C:\\Users\\mathe\\Documents\\Locadora_de_Filmes\\FRONT\\src\\app\\pages\\filme\\alugar-filme\\alugar-filme.component.ts","C:\\Users\\mathe\\Documents\\Locadora_de_Filmes\\FRONT\\src\\app\\pages\\filme\\alugar-filme\\alugar-filme.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { Filme } from 'src/app/models/filme.model';\nimport { Usuario } from 'src/app/models/usuario.model';\nimport { HttpClient } from '@angular/common/http';\n\n@Component({\n  selector: 'app-alugar-filme',\n  templateUrl: './alugar-filme.component.html',\n  styleUrls: ['./alugar-filme.component.css']\n})\nexport class AlugarFilmeComponent {\n  filmeId: number = 0;\n  cpf: number = 0;\n  filme: Filme | null = null;\n  usuario: Usuario | null = null;\n\n  constructor(private route: ActivatedRoute, private client: HttpClient) {}\n\n  ngOnInit(): void {\n    // Recupera o ID do filme da rota\n    this.route.params.subscribe(params => {\n      this.filmeId = params['filmeId'];\n      this.carregarFilme();\n    });\n  }\n\n  carregarFilme(): void {\n    // Carrega informações do filme usando o ID\n    this.client.get<Filme>(`https://localhost:7035/api/filme/${this.filmeId}`).subscribe({\n      next: (filme) => {\n        this.filme = filme;\n      },\n      error: (erro) => {\n        console.log(erro);\n      }\n    });\n  }\n\n  alugar(): void {\n    // Faz a chamada para o endpoint de aluguel\n    this.client.get(`https://localhost:7035/api/usuario/alugar/${this.filmeId}/${this.cpf}`).subscribe({\n      next: () => {\n        console.log(`Filme ${this.filme?.nome} alugado pelo usuário com CPF ${this.cpf}`);\n        // Redireciona para a página de filmes disponíveis após o aluguel\n        window.location.href = '/pages/filme/disponiveis';\n      },\n      error: (erro) => {\n        console.log(erro);\n      }\n    });\n  }\n}","<h1>Alugar Filme</h1>\n\n<div >\n  <p>Filme Selecionado: {{ filme.nome }}</p>\n  <p>CPF do Usuário: <input type=\"number\" [(ngModel)]=\"cpf\" /></p>\n  <button (click)=\"alugar()\">Alugar Filme</button>\n</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}